WITH insert_transaction AS (INSERT INTO transaction (rule_instance_id, author, author_device_id, author_device_latlng, author_role, equilibrium_time, sum_value) VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING *), i_0 AS (INSERT INTO transaction_item (transaction_id, item_id, price, quantity, debitor_first, rule_instance_id, rule_exec_ids, unit_of_measurement, units_measured, debitor, creditor, debitor_profile_id, creditor_profile_id, debitor_approval_time, creditor_approval_time, debitor_expiration_time, creditor_expiration_time) VALUES ((SELECT id FROM insert_transaction), $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING id), a_0 AS (INSERT INTO approval (rule_instance_id, transaction_id, transaction_item_id, account_name, account_role, device_id, device_latlng, approval_time, expiration_time) VALUES ($24, (SELECT id FROM insert_transaction), (SELECT id FROM i_0), $25, $26, $27, $28, $29, $30), ($31, (SELECT id FROM insert_transaction), (SELECT id FROM i_0), $32, $33, $34, $35, $36, $37), ($38, (SELECT id FROM insert_transaction), (SELECT id FROM i_0), $39, $40, $41, $42, $43, $44), ($45, (SELECT id FROM insert_transaction), (SELECT id FROM i_0), $46, $47, $48, $49, $50, $51)), i_1 AS (INSERT INTO transaction_item (transaction_id, item_id, price, quantity, debitor_first, rule_instance_id, rule_exec_ids, unit_of_measurement, units_measured, debitor, creditor, debitor_profile_id, creditor_profile_id, debitor_approval_time, creditor_approval_time, debitor_expiration_time, creditor_expiration_time) VALUES ((SELECT id FROM insert_transaction), $52, $53, $54, $55, $56, $57, $58, $59, $60, $61, $62, $63, $64, $65, $66, $67) RETURNING id), a_1 AS (INSERT INTO approval (rule_instance_id, transaction_id, transaction_item_id, account_name, account_role, device_id, device_latlng, approval_time, expiration_time) VALUES ($68, (SELECT id FROM insert_transaction), (SELECT id FROM i_1), $69, $70, $71, $72, $73, $74), ($75, (SELECT id FROM insert_transaction), (SELECT id FROM i_1), $76, $77, $78, $79, $80, $81), ($82, (SELECT id FROM insert_transaction), (SELECT id FROM i_1), $83, $84, $85, $86, $87, $88), ($89, (SELECT id FROM insert_transaction), (SELECT id FROM i_1), $90, $91, $92, $93, $94, $95)), i_2 AS (INSERT INTO transaction_item (transaction_id, item_id, price, quantity, debitor_first, rule_instance_id, rule_exec_ids, unit_of_measurement, units_measured, debitor, creditor, debitor_profile_id, creditor_profile_id, debitor_approval_time, creditor_approval_time, debitor_expiration_time, creditor_expiration_time) VALUES ((SELECT id FROM insert_transaction), $96, $97, $98, $99, $100, $101, $102, $103, $104, $105, $106, $107, $108, $109, $110, $111) RETURNING id), a_2 AS (INSERT INTO approval (rule_instance_id, transaction_id, transaction_item_id, account_name, account_role, device_id, device_latlng, approval_time, expiration_time) VALUES ($112, (SELECT id FROM insert_transaction), (SELECT id FROM i_2), $113, $114, $115, $116, $117, $118), ($119, (SELECT id FROM insert_transaction), (SELECT id FROM i_2), $120, $121, $122, $123, $124, $125), ($126, (SELECT id FROM insert_transaction), (SELECT id FROM i_2), $127, $128, $129, $130, $131, $132), ($133, (SELECT id FROM insert_transaction), (SELECT id FROM i_2), $134, $135, $136, $137, $138, $139)), i_3 AS (INSERT INTO transaction_item (transaction_id, item_id, price, quantity, debitor_first, rule_instance_id, rule_exec_ids, unit_of_measurement, units_measured, debitor, creditor, debitor_profile_id, creditor_profile_id, debitor_approval_time, creditor_approval_time, debitor_expiration_time, creditor_expiration_time) VALUES ((SELECT id FROM insert_transaction), $140, $141, $142, $143, $144, $145, $146, $147, $148, $149, $150, $151, $152, $153, $154, $155) RETURNING id), a_3 AS (INSERT INTO approval (rule_instance_id, transaction_id, transaction_item_id, account_name, account_role, device_id, device_latlng, approval_time, expiration_time) VALUES ($156, (SELECT id FROM insert_transaction), (SELECT id FROM i_3), $157, $158, $159, $160, $161, $162), ($163, (SELECT id FROM insert_transaction), (SELECT id FROM i_3), $164, $165, $166, $167, $168, $169), ($170, (SELECT id FROM insert_transaction), (SELECT id FROM i_3), $171, $172, $173, $174, $175, $176)), i_4 AS (INSERT INTO transaction_item (transaction_id, item_id, price, quantity, debitor_first, rule_instance_id, rule_exec_ids, unit_of_measurement, units_measured, debitor, creditor, debitor_profile_id, creditor_profile_id, debitor_approval_time, creditor_approval_time, debitor_expiration_time, creditor_expiration_time) VALUES ((SELECT id FROM insert_transaction), $177, $178, $179, $180, $181, $182, $183, $184, $185, $186, $187, $188, $189, $190, $191, $192) RETURNING id), a_4 AS (INSERT INTO approval (rule_instance_id, transaction_id, transaction_item_id, account_name, account_role, device_id, device_latlng, approval_time, expiration_time) VALUES ($193, (SELECT id FROM insert_transaction), (SELECT id FROM i_4), $194, $195, $196, $197, $198, $199), ($200, (SELECT id FROM insert_transaction), (SELECT id FROM i_4), $201, $202, $203, $204, $205, $206), ($207, (SELECT id FROM insert_transaction), (SELECT id FROM i_4), $208, $209, $210, $211, $212, $213)), i_5 AS (INSERT INTO transaction_item (transaction_id, item_id, price, quantity, debitor_first, rule_instance_id, rule_exec_ids, unit_of_measurement, units_measured, debitor, creditor, debitor_profile_id, creditor_profile_id, debitor_approval_time, creditor_approval_time, debitor_expiration_time, creditor_expiration_time) VALUES ((SELECT id FROM insert_transaction), $214, $215, $216, $217, $218, $219, $220, $221, $222, $223, $224, $225, $226, $227, $228, $229) RETURNING id), a_5 AS (INSERT INTO approval (rule_instance_id, transaction_id, transaction_item_id, account_name, account_role, device_id, device_latlng, approval_time, expiration_time) VALUES ($230, (SELECT id FROM insert_transaction), (SELECT id FROM i_5), $231, $232, $233, $234, $235, $236), ($237, (SELECT id FROM insert_transaction), (SELECT id FROM i_5), $238, $239, $240, $241, $242, $243), ($244, (SELECT id FROM insert_transaction), (SELECT id FROM i_5), $245, $246, $247, $248, $249, $250)) SELECT id FROM insert_transaction